(function(){window.Kitty={};var b=function(c,d){var e=this;this.modelName=c;Kitty.Model[c]=function(f){Kitty.Model[c].prototype.modelProtoReference=e;this.objid=Math.round(Math.random()*100000000);Kitty.Model[c].prototype.init=function(){for(var g in Kitty.Model[c].defaults){this[g]=f.hasOwnProperty(g)?f[g]:Kitty.Model[c].defaults[g]}Kitty.Model[e.modelName].views[this.objid]=[];Kitty.Model[e.modelName].collection.push(this)};Kitty.Model[c].prototype.set=function(h){for(var g in h){this[g]=h[g]}this.notify()};Kitty.Model[c].prototype.get=function(g){return this[g]};Kitty.Model[c].prototype.remove=function(){for(var h in Kitty.Model[e.modelName].views[this.objid]){Kitty.Model[e.modelName].views[this.objid][h].remove()}delete Kitty.Model[e.modelName].views[this.objid];var j;for(var g=0;g<Kitty.Model[e.modelName].collection.length;g++){if(Kitty.Model[e.modelName].collection[g].objid===this.objid){j=g;break}}Kitty.Model[e.modelName].collection.splice(j,1)};Kitty.Model[c].prototype.notify=function(){for(var g in Kitty.Model[e.modelName].views[this.objid]){Kitty.Model[e.modelName].views[this.objid][g]._render()}};this.init()};Kitty.Model[c].collection=[];Kitty.Model[c].views={};Kitty.Model[c].defaults=(function(){var g={};for(var f in d){g[f]=d[f]}return g})();return Kitty.Model[c]};var a=function(d,c){Kitty.View[d]=function(f){var e=this;this.model=f;this.init=function(){for(var g in c){this[g]=c[g]}var h=this.model.modelProtoReference;Kitty.Model[h.modelName].views[this.model.objid].push(this);this.el=document.createElement(c.tag);this.container.appendChild(this.el);return this};this._render=function(){this.el.innerHTML=this.template.render(this.model);c.hasOwnProperty("events")&&c.events.call(e);c.hasOwnProperty("render")&&c.render.call(e);return this};this.remove=function(){this.el.parentNode.removeChild(this.el)};this.init()._render()};return Kitty.View[d]};Kitty.Model=b;Kitty.View=a})();